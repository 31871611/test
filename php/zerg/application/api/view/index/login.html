<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>验证注册</title>
</head>
<body>

    <div class="item">
        <label>手机号</label>
        <input type="tel" name="tel" id="tel">
    </div>
    <div class="item">
        <label>验证码</label>
        <input type="tel" name="code" id="code">
        <a href="javascript:;" data-url="{:url('index/sms')}" id="getCode">获取验证码</a>
    </div>
    <div class="item">
        <a href="javascript:;" data-url="{:url('index/submit')}" id="submit">提交</a>
    </div>
    13345678901

</body>
<script src="http://app2.artjzf.com/static/js/jquery-1.8.3.min.js"></script>
<script>
$(function(){

    $('#getCode').on('click',function(){
        var url = $(this).data('url');
        var data = {
            tel : $('#tel').val()
        }

        // 验证手机号
        if (!/(^1[3|4|5|7|8]\d{9}$)|(^09\d{8}$)/.test($.trim(data.tel))) {
            alert('请输入有效的手机号码！');
            return false;
        }

        $.post(url, data,function(data){
            console.log(data);
        });

    })

    $('#submit').on('click',function(){
        var url = $(this).data('url');
        var data = {
            tel : $('#tel').val(),
            code : $('#code').val()
        }

        $.post(url, data,function(data){
            console.log(data);
        });

    })

})
</script>
</html>